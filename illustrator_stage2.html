<html>
<head>
    <meta charset="utf-8" />
    <title>Directed Questions</title>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
 	<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
 	<!-- <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"> -->
 	<!-- <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script> -->
</head>
	<body>
		<div class="wrapper">
			<div class="left">
				<h1>
					How to use the Symbol tool in Illustrator
				</h1>
				<div id="player"></div>
				<div class="dq_input">
					<h2>
						Which of the following best describes the video section you just watched?
					</h2>
					<p>
						Choose the best answer or add your own.
					</p>
					<div class="mult_choice_options">
						<input type="radio" name="step1" class="q_choice"><label>Option 1</label></input><br>
						<input type="radio" name="step1" class="q_choice"><label>Option 2</label></input><br>
						<input type="radio" name="step1" class="q_choice"><label>Option 3</label></input><br>
						<input type="radio" name="step1" class="q_choice"><label>Option 4</label></input><br>
						<input type="radio" name="step1" class="q_choice"><input type="text" class="q_input"></input><br>
						<input type="radio" name="step1" class="q_input">None apply</input><br>
					</div>
					<button type="button" class="submitButton" tabindex=2>Submit</button>
					<button type="button" class="cancelButton" tabindex=2>Cancel</button>
					<div id="test"></div>
				</div>
				<div class="dq_help">
					<div class="dq_help_text">
						Feel free to edit or move around the subheadings if they don't look right.
					</div>
				</div>
				<div class="dq_instr">
					<div class="dq_help_text">
						Periodically throughout this video, you'll be asked to help refine the video outline to the right.
					</div>
				</div>
			</div>
			<div class="right">
				<div class="wiki_wrap">
					<div class="wiki_head">
						<span>Wiki Video Outline</span>
						<button type="button" class="addButton">Add subhead</button>
					</div>
					<ul id="sortable">
						<li class='movable'><span contenteditable='true' class='sub sub1'>Prepare the canvas with tree and leaf</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
						<li class='movable'><span contenteditable='true' class='sub sub2'>Set the stage to put leaves on a tree</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step1">1. Open Illustrator document with bare tree and leaf objects on the canvas</li>
					    <li class="frozen" id="step2">2. Shrink the leaf down so it fits the tree</li>
					    <li class='movable'><span contenteditable='true' class='sub sub3'>How to add an item to the symbol palette</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub4'>Make Leaf a Symbol</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub5'>Put an image in the symbol palette</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step3">3. Open Symbols palette</li>
					    <li class="frozen" id="step4">4. Select leaf from canvas and drag to symbols palette</li>
					    <li class="frozen" id="step5">5. Create new Graphic symbol called "Leaf"</li>
					    <li class="frozen" id="step6">6. Drag leaf from symbols palette onto tree</li>
					    <li class='movable'><span contenteditable='true' class='sub sub6'>How to scatter symbols onto your image</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub7'>Show how to access a tool to put symbols on the picture</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub8'>Prepare Spray Symbol Tool</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step7">7. Drag symbol tools panel onto canvas</li>
					    <li class="frozen" id="step8">8. Select symbol spray tool</li>
					    <li class='movable'><span contenteditable='true' class='sub sub9'>Put Leaves on Tree</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub10'>How to redistribute your sprayed symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub11'>Show how to quickly draw symbols at specific points on the picture</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step9">9. Click and drag to put leaves all over tree</li>
					    <li class='movable'><span contenteditable='true' class='sub sub12'>Shift Groups of Symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step10">10. Select symbol shifter tool</li>
					    <li class='movable'><span contenteditable='true' class='sub sub13'>How to scrunch the distribution of your symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub14'>Show how to displace and scrunch existing symbols to better fit the picture</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step11">11. Click and drag to bring leaves closer together</li>
					    <li class='movable'><span contenteditable='true' class='sub sub15'>Compress/expand Groups of Symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step12">12. Select symbol scruncher tool</li>
					    <li class="frozen" id="step13">13. Click and drag to scrunch leaves</li>
					    <li class='movable'><span contenteditable='true' class='sub sub16'>Change Size of Symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step14">14. Select symbol sizer tool</li>
					    <li class='movable'><span contenteditable='true' class='sub sub17'>Show how to resize existing symbols on the picture</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub18'>How to create size variety of your symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step15">15. Click and drag to resize leaves</li>
					    <li class='movable'><span contenteditable='true' class='sub sub19'>Rotate/Spin Symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step16">16. Select symbol spinner tool</li>
					    <li class='movable'><span contenteditable='true' class='sub sub20'>Show how to spin existing symbols to various angles</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub21'>How to add direction variety to your symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step17">17. Click and drag the leaves to spin them</li>
					    <li class='movable'><span contenteditable='true' class='sub sub22'>Recoloring some of they symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub23'>Change Colors of Symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub24'>Show how to stain an existing collection of symbols with a color</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step18">18. Select symbol stainer tool</li>
					    <li class="frozen" id="step19">19. Bring up colors palette</li>
					    <li class="frozen" id="step20">20. Pick a reddish fall color</li>
					    <li class="frozen" id="step21">21. Click and drag around leaves to change their color</li>
					    <li class='movable'><span contenteditable='true' class='sub sub25'>Show how to edit the opacity of existing symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub26'>Change Symbol Opacity</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub27'>Adding opacity variation to your symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step22">22. Select symbol screener tool</li>
					    <li class="frozen" id="step23">23. Click and drag leaves to change their opacity</li>
					    <li class='movable'><span contenteditable='true' class='sub sub28'>Change "Style" of Symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step24">24. Select symbol styler tool</li>
					    <li class="frozen" id="step25">25. Bring up graphic styles palette</li>
					    <li class="frozen" id="step26">26. Select black and white style</li>
					    <li class='movable'><span contenteditable='true' class='sub sub29'>Adding style patterns to your symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class='movable'><span contenteditable='true' class='sub sub30'>Show how to change the graphical style of existing symbols</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>
					    <li class="frozen" id="step27">27. Click and drag leaves to change their style</li>
					</ul>
				</div>
			</div>
		</div>

		
	</body>
</html>

<style media="screen" type="text/css">
	body {
		margin-left: 30px;
		font-family: Arial;
		margin-top: 20px;
	}

	h2 {
		font-size: 16pt;
	}

	.info_head {
		font-family: Arial;
		font-size: 24pt;
	}

	.info_text {
		font-family: Arial;
		font-size: 16 pt;
		margin-bottom: 10px;
	}

	.vid {
		margin-bottom: 20px;
	}

	.ques {
		margin: 30px;
	}

	.left {
		float: left;
		width: 500px;
		height: 1000px;
		position: fixed;
		overflow: scroll;
	}

	.right {
		/*float: right;*/
		margin-left: 550px;
		height: 2000px;
		overflow: scroll;
	}

	.wiki_wrap {
		/*background-color: #D0CFD4;*/
		background-color: #E6EDFC;
		margin-top: 20px;
		width: 500px;		
	}

	.wiki_head {
		padding: 10px;
		font-size: 16pt;
		margin-bottom: 20px;
		padding-top: 20px;
		padding-bottom: 20px;
		padding-left: 20px;
		border-bottom: 2px solid black;
	}

	#sortable { 
		list-style-type: none; 
		margin: 0; 
		padding: 0; 
		zoom: 1; 
		padding-bottom: 20px;
	}

  	#sortable li { 
  		margin: 0 5px 5px 5px; 
  		padding: 3px; 
  		width: 95%; 
  		
  	}	

/*  	.movable {
  		color: black;
  		background-color: #7B7A7D;
  		height: 30px;
  	}*/

  	.subhead {
  		color: black;
  		background-color: #7B7A7D;
  		height: 30px;
  	}

  	.addButton {
  		float:right;
  		background-color: black;
  		color: white;
  		border: none;
  		font-size: 12pt;
  	}

  	button {
  		float:right;
  		background-color: black;
  		color: white;
  		border: none;
  		font-size: 12pt;
  	}

  	.delButton {
  		float:right;
  		background-color: black;
  		color: white;
  		border: none;
  		font-size: 12pt;
  		/*margin-top: 12px;*/
  	}

  	.dq_input input {
  		/*width: 250px;*/
  	}

  	.movable:hover {
  		cursor: hand;
  	}

  	.sub:hover {
  		/*cursor: text;*/
  	}

  	.sub {

  		/*border: 1px solid black;*/
  		/*background-color: white;*/
  		
  		border-width: 1px;
  		border-style: dotted;
  		border-color: gray;
  		/*border: 1px dotted gray;*/
  		background-color: #E6E6E6;

  		font-size: 12pt;
  		/*margin-top: 10px;*/
  		display: inline-block;
  		width: 70%;
  		/*height: 20px;*/
  		padding: 4px;
  		/*margin-top: 10px;*/
  		/*padding-left: 8px;*/
  		box-shadow: none !important;
  		outline: none;
  	}

  	.frozen {
  		text-indent: 20px;
  	}

  	.submitButton {
  		margin-right: 10px;
  		float: left;
  		margin-top: 20px;
  	}

  	.cancelButton {
  		float: left;
  		margin-top: 20px;
  		margin-left: 20px;
  	}

  	.dq_help {
  		margin-top: 40px;
  		width: 400px;
  		float: right;
  	}

  	.dq_instr {
  		margin-top: 40px;
  		width: 400px;
  		float: right;
  	}

  	.dq_help_text {
  		font-size: 20px;
  		color: #1F57DB;
  	}

  	.saveButton {
  		display:none;
  	}

  	.q_choice {
  		margin: 5px;
  	}

  	.q_input {
  		margin: 5px;
  	}

</style>

<script>
	
	step_times = {
		"step0" : 0.0,
		"step1" : 10.0,
		"step2" : 23.0,
		"step3" : 33.0,
		"step4" : 39.0,
		"step5" : 47.0,
		"step6" : 59.0,
		"step7" : 78.0,
		"step8" : 85.0,
		"step9" : 93.0,
		"step10" : 119.0,
		"step11" : 125.0,
		"step12" : 137.0,
		"step13" : 141.0,
		"step14" : 150.0,
		"step15" : 155.0,
		"step16" : 178.0,
		"step17" : 189.0,
		"step18" : 215.0,
		"step19" : 226.0,
		"step20" : 233.0,
		"step21" : 237.0, 
		"step22" : 247.0,
		"step23" : 254.0,
		"step24" : 260.0,
		"step25" : 266.0,
		"step26" : 269.0,
		"step27" : 277.0
	}
	// $(document).data('stepTime',0);
	stepTime = 0;

	var tag = document.createElement('script');
  	tag.src = "https://www.youtube.com/iframe_api";
  	var firstScriptTag = document.getElementsByTagName('script')[0];
  	firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  	// 3. This function creates an <iframe> (and YouTube player)
  	//    after the API code downloads.
  	var player;
  	function onYouTubeIframeAPIReady() {
	    player = new YT.Player('player', {
	    	width: '500',
	    	height: '315',
	    	videoId: 'FzTS8x7KZsc',
	        enablejsapi: '1',
	        events: {
	          'onReady': onPlayerReady,
	          'onStateChange': onPlayerStateChange
	        }
	    });
	}

	function onPlayerReady(event) {
        event.target.playVideo();
        checkVideo();
    }

    var stop_time = false;
    function onPlayerStateChange(event) {
        setTimeout(checkVideo, 1000);
    }

    function stopVideo() {
    	player.stopVideo();
    }

    function pauseVideo() {
    	player.pauseVideo();
    }

    var temp = 0;
    var subs = [];
    
    function checkVideo() {
    	var t = Math.floor(player.getCurrentTime());
    	//33
    	if (t==33 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub1', 'sub2'];
			window.stepTime = 1;
			// $(document).data('stepTime',t);
			console.log(stepTime)
			askQuestion(subs);
		} else if (t==78 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub3', 'sub4', 'sub5'];
			// $(document).data('stepTime',t);
			window.stepTime = 38;
			askQuestion(subs);
		} else if (t==93 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub6', 'sub7', 'sub8'];
			window.stepTime = 62;
			askQuestion(subs);
		} else if (t==119 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub9', 'sub10', 'sub11'];
			window.stepTime = 94;
			askQuestion(subs);
		} else if (t==125 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub12'];
			window.stepTime = 139;
			askQuestion(subs);
		} else if (t==137 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub13', 'sub14'];
			window.stepTime = 145;
			askQuestion(subs);
		} else if (t==150 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub15'];
			window.stepTime = 152;
			askQuestion(subs);
		} else if (t==155 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub16'];
			window.stepTime = 152;
			askQuestion(subs);
		} else if (t==178 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub17', 'sub18'];
			window.stepTime = 152;
			askQuestion(subs);
		} else if (t==189 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub19'];
			window.stepTime = 152;
			askQuestion(subs);
		} else if (t==215 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub20', 'sub21'];
			window.stepTime = 152;
			askQuestion(subs);
		} else if (t==247 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub22', 'sub23', 'sub24'];
			window.stepTime = 152;
			askQuestion(subs);
		} else if (t==260 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub25', 'sub26', 'sub27'];
			window.stepTime = 152;
			askQuestion(subs);
		} else if (t==277 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub28'];
			window.stepTime = 152;
			askQuestion(subs);
		} else if (t==300 && t != 0 && t-temp>1) {
    		player.pauseVideo();
			temp = t;
			subs = ['sub29', 'sub30'];
			window.stepTime = 152;
			askQuestion(subs);
    	} else if (player.getPlayerState()==0) {
    		// askQuestion();
    	} else {
    		setTimeout(checkVideo, 1000);
    	}
    }

    function askQuestion(subs) {
    	// console.log(subs)
    	$(".mult_choice_options").empty('')
    	for (sub in subs) {
    		val = $('.'+subs[sub]).text()
    		$(".mult_choice_options").append("<input type='radio' name='step1' class='q_choice'><label>"+val+"</label></input><br>")
    	}
    	$(".mult_choice_options").append("<input type='radio' name='step1' class='q_choice q_new'><input type='text' class='q_input'></input><br><input type='radio' name='step1' class='q_input'><label>None apply</label></input><br>")
    	$('.dq_input').show();
    	$('.dq_help').hide();
    	$('.dq_instr').hide();
    }

    function submitSubgoal() {
    	// if ($('input[name=step1]:radio:checked').length > 0) {
    		// console.log(subs)
		text = $('input[name=step1]:radio:checked + label').text()
		// console.log(text.length)
		sublist = $(".sub");
		for (sub in subs) {
			if ($('.'+subs[sub]).text() != text) {
				// console.log($('.'+subs[sub]).text())
				$('.'+subs[sub]).parents()[0].remove()
			} else {
				// console.log('weeee '+$('.'+subs[sub]).text())
			}
		}

		if (typeof $('input[name=step1]:radio:checked + input').val() !== "undefined") {
			console.log('here')
			// console.log("GREATER THAN ZERO")
			inp_text = $('input[name=step1]:radio:checked + input').val()
			var $li = $("<li class='movable'><span contenteditable='true' class='sub'>"+inp_text+"</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>");
			// console.log(player.getCurrentTime())
			// console.log(window.stepTime)
			// time = player.getCurrentTime()-window.stepTime;
			// console.log(player.getCurrentTime())
			placeSubtitle($li, window.stepTime-1)
		}
    	// } 		
		player.playVideo();
		$('.dq_input').fadeOut(250);
		$('.dq_help').fadeIn(500);
		setTimeout(checkVideo, 1000);
    }

    function placeSubtitle(subtitle, time) {
    	console.log('here!')
    	console.log("time "+time)
    	for (var i = 0; i < Object.keys(step_times).length - 1; i++) {
    		// console.log(step_times[Object.keys(step_times)[i]])
    		// console.log(step_times[Object.keys(step_times)[i+1]])
    		if (time >= step_times[Object.keys(step_times)[i]] && time < step_times[Object.keys(step_times)[i+1]]) {
    			$('#'+Object.keys(step_times)[i+1]).before($(subtitle))
    		}
    	}
    }

	$("body").on('keypress', '.q_input', function(e) {
		if (e.which == 13) {
			submitSubgoal();
		}
	});

	$("body").on('click', '.q_input', function(e) {
		$(".q_new").prop('checked', 'true')
	});	

	$("body").on('keypress', '.q_choice', function(e) {
		if (e.which == 13) {
			submitSubgoal();
		}
	});	

    $("body").on('click', '.submitButton', function(e) {
    	submitSubgoal();
	});

	$("body").on('click', '.ppButton', function(e) {
		player.playVideo();
		$('.dq_input').hide();
		$('.dq_help').show();
		// $('.dq_instr').hide();
		setTimeout(checkVideo, 1000);
	});

	$("body").on('click', '.cancelButton', function(e) {
		player.playVideo();
		$('.dq_input').hide();
		$('.dq_help').show();
		// $('.dq_instr').hide();
		setTimeout(checkVideo, 1000);
	});

   	$(document).ready(function() {
		$('.dq_input').hide();
		$('.dq_help').hide();
    });
</script>

<script type="text/javascript">
	$(function() {
		enableEvents();
		
		$("body").on('click', '.movable', function(e) {
    		e.preventDefault();
    		$("#sortable").sortable("destroy");
    		$(this).children()[0].focus();
    		// $(this).select();
    	});

		$("body").on('blur', '.movable', function(e) {
			$("#sortable").sortable({cancel:".frozen"})
		})

		$(document).keypress(function(e) {
		    if(e.which == 13) {
		        $("#sortable").sortable({cancel:".frozen"})
		    }
		});

		$("body").on('click', '.delButton', function(e) {
			$($(this).parent()).remove()
		});

		$("body").on('click', '.editButton', function(e) {
			console.log("edit clicked")
			// console.log($(this).siblings())

			$($(this).siblings()[0]).css('background-color', 'white');
			$($(this).siblings()[0]).css('border-style', 'solid');
			$($(this).siblings()[0]).css('border-color', 'black');

			$($(this).parent()).trigger('click')
    		$(this).toggle();
    		$($(this).siblings()[2]).toggle();
		});

		$("body").on('click', '.saveButton', function(e) {
			console.log("save clicked")

			$($(this).siblings()[0]).css('background-color', '#E6E6E6');
			$($(this).siblings()[0]).css('border-style', 'dotted');
			$($(this).siblings()[0]).css('border-color', 'gray');

			//THIS ISN'T WORKING :( :( :(
			$($(this).parent()).trigger('blur')
    		$(this).toggle();
    		$($(this).siblings()[2]).toggle();
		});

		$("body").on('click', '.addButton', function(e) {
			e.preventDefault();
			var text = 'New subtitle'
			var $li = $("<li class='movable'><span contenteditable='true' class='sub'>New subhead</span><button type='button' class='delButton'>Delete</button><button type='button' class='editButton'>Edit</button><button type='button' class='saveButton'>Save</button></li>");
			$("#sortable").prepend($li);
    		enableEvents();
		});	
  	});

  	function enableEvents() {
  		$("#sortable").sortable({cancel:".frozen"})
  	}
</script>
